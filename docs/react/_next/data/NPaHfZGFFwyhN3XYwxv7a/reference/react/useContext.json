{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"æ¦‚è§ˆ\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"å‚è€ƒ \"},{\"url\":\"#usecontext\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"useContext(SomeContext)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"ç”¨æ³• \"},{\"url\":\"#passing-data-deeply-into-the-tree\",\"depth\":3,\"text\":\"å‘ç»„ä»¶æ ‘æ·±å±‚ä¼ é€’æ•°æ® \"},{\"url\":\"#updating-data-passed-via-context\",\"depth\":3,\"text\":\"é€šè¿‡ context æ›´æ–°ä¼ é€’çš„æ•°æ® \"},{\"url\":\"#specifying-a-fallback-default-value\",\"depth\":3,\"text\":\"æŒ‡å®šåå¤‡æ–¹æ¡ˆé»˜è®¤å€¼ \"},{\"url\":\"#overriding-context-for-a-part-of-the-tree\",\"depth\":3,\"text\":\"è¦†ç›–ç»„ä»¶æ ‘ä¸€éƒ¨åˆ†çš„ context \"},{\"url\":\"#optimizing-re-renders-when-passing-objects-and-functions\",\"depth\":3,\"text\":\"åœ¨ä¼ é€’å¯¹è±¡å’Œå‡½æ•°æ—¶ä¼˜åŒ–é‡æ–°æ¸²æŸ“ \"},{\"url\":\"#troubleshooting\",\"depth\":2,\"text\":\"ç–‘éš¾è§£ç­” \"},{\"url\":\"#my-component-doesnt-see-the-value-from-my-provider\",\"depth\":3,\"text\":\"æˆ‘çš„ç»„ä»¶è·å–ä¸åˆ° provider ä¼ é€’çš„å€¼\"},{\"url\":\"#i-am-always-getting-undefined-from-my-context-although-the-default-value-is-different\",\"depth\":3,\"text\":[\"å°½ç®¡è®¾ç½®äº†ä¸ä¸€æ ·çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯æˆ‘æ€»æ˜¯ä» context ä¸­å¾—åˆ° \",[\"$r\",\"code\",null,{\"children\":\"undefined\"}],\" \"]}]","content":"[[\"$r\",\"MaxWidth\",\"48\",{\"children\":[[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useContext\"}],\" æ˜¯ä¸€ä¸ª React Hookï¼Œå¯ä»¥è®©ä½ è¯»å–å’Œè®¢é˜…ç»„ä»¶ä¸­çš„ \",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-data-deeply-with-context\",\"children\":\"context\"}],\"ã€‚\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const value = useContext(SomeContext)\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"å‚è€ƒ \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"usecontext\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"useContext(SomeContext)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ç»„ä»¶çš„é¡¶å±‚è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext\"}],\" æ¥è¯»å–å’Œè®¢é˜… \",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-data-deeply-with-context\",\"children\":\"context\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useContext } from 'react';\\n\\nfunction MyComponent() {\\n  const theme = useContext(ThemeContext);\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"è¯·çœ‹ä¸‹æ–¹æ›´å¤šç¤ºä¾‹ã€‚\"}]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"å‚æ•° \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"SomeContext\"}],\"ï¼šå…ˆå‰ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/createContext\",\"children\":[\"$r\",\"code\",null,{\"children\":\"createContext\"}]}],\" åˆ›å»ºçš„ contextã€‚context æœ¬èº«ä¸åŒ…å«ä¿¡æ¯ï¼Œå®ƒåªä»£è¡¨ä½ å¯ä»¥æä¾›æˆ–ä»ç»„ä»¶ä¸­è¯»å–çš„ä¿¡æ¯ç±»å‹ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"è¿”å›å€¼ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useContext\"}],\" ä¸ºè°ƒç”¨ç»„ä»¶è¿”å› context çš„å€¼ã€‚å®ƒè¢«ç¡®å®šä¸ºä¼ é€’ç»™æ ‘ä¸­è°ƒç”¨ç»„ä»¶ä¸Šæ–¹æœ€è¿‘çš„ \",[\"$r\",\"code\",null,{\"children\":\"SomeContext.Provider\"}],\" çš„ \",[\"$r\",\"code\",null,{\"children\":\"value\"}],\"ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ providerï¼Œé‚£ä¹ˆè¿”å›å€¼å°†ä¼šæ˜¯ä¸ºåˆ›å»ºè¯¥ context ä¼ é€’ç»™ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/createContext\",\"children\":[\"$r\",\"code\",null,{\"children\":\"createContext\"}]}],\" çš„ \",[\"$r\",\"code\",null,{\"children\":\"defaultValue\"}],\"ã€‚è¿”å›çš„å€¼å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚å¦‚æœ context å‘ç”Ÿå˜åŒ–ï¼ŒReact ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“è¯»å– context çš„ç»„ä»¶ã€‚\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"æ³¨æ„äº‹é¡¹ \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ç»„ä»¶ä¸­çš„ \",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" è°ƒç”¨ä¸å— \",[\"$r\",\"strong\",null,{\"children\":\"åŒä¸€\"}],\" ç»„ä»¶è¿”å›çš„ provider çš„å½±å“ã€‚ç›¸åº”çš„ \",[\"$r\",\"code\",null,{\"children\":\"<Context.Provider>\"}],\" éœ€è¦ä½äºè°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" çš„ç»„ä»¶ \",[\"$r\",\"strong\",null,{\"children\":\"ä¹‹ä¸Š\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ä» provider æ¥æ”¶åˆ°ä¸åŒçš„ \",[\"$r\",\"code\",null,{\"children\":\"value\"}],\" å¼€å§‹ï¼ŒReact è‡ªåŠ¨é‡æ–°æ¸²æŸ“ä½¿ç”¨äº†è¯¥ç‰¹å®š context çš„æ‰€æœ‰å­çº§ã€‚å…ˆå‰çš„å€¼å’Œæ–°çš„å€¼ä¼šä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"Object.is\"}]}],\" æ¥åšæ¯”è¾ƒã€‚ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/memo\",\"children\":[\"$r\",\"code\",null,{\"children\":\"memo\"}]}],\" æ¥è·³è¿‡é‡æ–°æ¸²æŸ“å¹¶ä¸å¦¨ç¢å­çº§æ¥æ”¶åˆ°æ–°çš„ context å€¼ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¦‚æœæ‚¨çš„æ„å»ºç³»ç»Ÿåœ¨è¾“å‡ºä¸­äº§ç”Ÿé‡å¤çš„æ¨¡å—ï¼ˆå¯èƒ½å‘ç”Ÿåœ¨ç¬¦å·é“¾æ¥ä¸­ï¼‰ï¼Œè¿™å¯èƒ½ä¼šç ´å contextã€‚é€šè¿‡ context ä¼ é€’æ•°æ®åªæœ‰åœ¨ç”¨äºä¼ é€’ context çš„ \",[\"$r\",\"code\",null,{\"children\":\"SomeContext\"}],\" å’Œç”¨äºè¯»å–æ•°æ®çš„  \",[\"$r\",\"code\",null,{\"children\":\"SomeContext\"}],\" æ˜¯å®Œå…¨ç›¸åŒçš„å¯¹è±¡æ—¶æ‰æœ‰æ•ˆï¼Œè¿™æ˜¯ç”± \",[\"$r\",\"code\",null,{\"children\":\"===\"}],\" æ¯”è¾ƒå†³å®šçš„ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"ç”¨æ³• \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"passing-data-deeply-into-the-tree\",\"children\":\"å‘ç»„ä»¶æ ‘æ·±å±‚ä¼ é€’æ•°æ® \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ç»„ä»¶çš„æœ€é¡¶çº§è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext\"}],\" æ¥è¯»å–å’Œè®¢é˜… \",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-data-deeply-with-context\",\"children\":\"context\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[2, 4, \\\"theme\\\"], [1, 4, \\\"ThemeContext\\\"]]\",\"children\":\"import { useContext } from 'react';\\n\\nfunction Button() {\\n  const theme = useContext(ThemeContext);\\n  // ... \\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useContext\"}],\" è¿”å›ä½ å‘ \",[\"$r\",\"CodeStep\",null,{\"step\":1,\"children\":\"context\"}],\" ä¼ é€’çš„ \",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":\"context value\"}],\"ã€‚ä¸ºäº†ç¡®å®š context å€¼ï¼ŒReact æœç´¢ç»„ä»¶æ ‘ï¼Œä¸ºè¿™ä¸ªç‰¹å®šçš„ context \",[\"$r\",\"strong\",null,{\"children\":\"å‘ä¸ŠæŸ¥æ‰¾æœ€è¿‘çš„\"}],\" context providerã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"è‹¥è¦å°† context ä¼ é€’ç»™ \",[\"$r\",\"code\",null,{\"children\":\"Button\"}],\"ï¼Œè¯·å°†å…¶æˆ–å…¶çˆ¶ç»„ä»¶ä¹‹ä¸€åŒ…è£…åˆ°ç›¸åº”çš„ context providerï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 3, \\\"ThemeContext\\\"], [2, 3, \\\"\\\\\\\"dark\\\\\\\"\\\"], [1, 5, \\\"ThemeContext\\\"]]\",\"children\":\"function MyPage() {\\n  return (\\n    <ThemeContext.Provider value=\\\"dark\\\">\\n      <Form />\\n    </ThemeContext.Provider>\\n  );\\n}\\n\\nfunction Form() {\\n  // ... åœ¨å†…éƒ¨æ¸²æŸ“ buttons ...\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"provider å’Œ \",[\"$r\",\"code\",null,{\"children\":\"Button\"}],\" ä¹‹é—´æœ‰å¤šå°‘å±‚ç»„ä»¶å¹¶ä¸é‡è¦ã€‚å½“ \",[\"$r\",\"code\",null,{\"children\":\"Form\"}],\" ä¸­çš„ä»»ä½•ä½ç½®çš„ \",[\"$r\",\"code\",null,{\"children\":\"Button\"}],\" è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext(ThemeContext)\"}],\" æ—¶ï¼Œå®ƒéƒ½å°†æ¥æ”¶ \",[\"$r\",\"code\",null,{\"children\":\"\\\"dark\\\"\"}],\" ä½œä¸ºå€¼ã€‚\"]}],\"\\n\",[\"$r\",\"Pitfall\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" æ€»æ˜¯åœ¨è°ƒç”¨å®ƒçš„ç»„ä»¶ \",[\"$r\",\"strong\",null,{\"children\":\"ä¸Šé¢\"}],\" å¯»æ‰¾æœ€è¿‘çš„ providerã€‚å®ƒå‘ä¸Šæœç´¢ï¼Œ \",[\"$r\",\"strong\",null,{\"children\":\"ä¸è€ƒè™‘\"}],\" è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" çš„ç»„ä»¶ä¸­çš„ providerã€‚\"]}]}],\"\\n\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext } from 'react';\\n\\nconst ThemeContext = createContext(null);\\n\\nexport default function MyApp() {\\n  return (\\n    <ThemeContext.Provider value=\\\"dark\\\">\\n      <Form />\\n    </ThemeContext.Provider>\\n  )\\n}\\n\\nfunction Form() {\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      <Button>Sign up</Button>\\n      <Button>Log in</Button>\\n    </Panel>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button className={className}>\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\".panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"MaxWidth\",\"60\",{\"children\":[\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"updating-data-passed-via-context\",\"children\":\"é€šè¿‡ context æ›´æ–°ä¼ é€’çš„æ•°æ® \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é€šå¸¸ï¼Œä½ ä¼šå¸Œæœ› context éšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ã€‚è¦æ›´æ–° contextï¼Œè¯·å°†å…¶ä¸ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useState\",\"children\":\"state\"}],\" ç»“åˆã€‚åœ¨çˆ¶ç»„ä»¶ä¸­å£°æ˜ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œå¹¶å°†å½“å‰çŠ¶æ€ä½œä¸º \",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":\"context value\"}],\" ä¼ é€’ç»™ providerã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{2} [[1, 4, \\\"ThemeContext\\\"], [2, 4, \\\"theme\\\"], [1, 11, \\\"ThemeContext\\\"]]\",\"children\":\"function MyPage() {\\n  const [theme, setTheme] = useState('dark');\\n  return (\\n    <ThemeContext.Provider value={theme}>\\n      <Form />\\n      <Button onClick={() => {\\n        setTheme('light');\\n      }}>\\n       Switch to light theme\\n      </Button>\\n    </ThemeContext.Provider>\\n  );\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ç°åœ¨ provider ä¸­çš„ä»»ä½•ä¸€ä¸ª \",[\"$r\",\"code\",null,{\"children\":\"Button\"}],\" éƒ½ä¼šæ¥æ”¶åˆ°å½“å‰çš„ \",[\"$r\",\"code\",null,{\"children\":\"theme\"}],\" å€¼ã€‚å¦‚æœè°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"setTheme\"}],\" æ¥æ›´æ–°ä¼ é€’ç»™ provider çš„ \",[\"$r\",\"code\",null,{\"children\":\"theme\"}],\" å€¼ï¼Œåˆ™æ‰€æœ‰ \",[\"$r\",\"code\",null,{\"children\":\"Button\"}],\" ç»„ä»¶éƒ½å°†ä½¿ç”¨æ–°çš„å€¼ \",[\"$r\",\"code\",null,{\"children\":\"'light'\"}],\" æ¥é‡æ–°æ¸²æŸ“ã€‚\"]}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"æ›´æ–° context çš„ä¾‹å­\",\"titleId\":\"examples-basic\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"updating-a-value-via-context\",\"children\":\"é€šè¿‡ context æ¥æ›´æ–°æ•°æ® \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"MyApp\"}],\" ç»„ä»¶åŒ…å«ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œç„¶åè¯¥å˜é‡è¢«ä¼ é€’ç»™ \",[\"$r\",\"code\",null,{\"children\":\"ThemeContext\"}],\" providerã€‚é€‰ä¸­â€œDark modeâ€å¤é€‰æ¡†æ›´æ–°çŠ¶æ€ã€‚æ›´æ”¹æä¾›çš„å€¼å°†é‡æ–°æ¸²æŸ“ä½¿ç”¨è¯¥ context çš„æ‰€æœ‰ç»„ä»¶ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext, useState } from 'react';\\n\\nconst ThemeContext = createContext(null);\\n\\nexport default function MyApp() {\\n  const [theme, setTheme] = useState('light');\\n  return (\\n    <ThemeContext.Provider value={theme}>\\n      <Form />\\n      <label>\\n        <input\\n          type=\\\"checkbox\\\"\\n          checked={theme === 'dark'}\\n          onChange={(e) => {\\n            setTheme(e.target.checked ? 'dark' : 'light')\\n          }}\\n        />\\n        Use dark mode\\n      </label>\\n    </ThemeContext.Provider>\\n  )\\n}\\n\\nfunction Form({ children }) {\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      <Button>Sign up</Button>\\n      <Button>Log in</Button>\\n    </Panel>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button className={className}>\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\".panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"p\",null,{\"children\":[\"æ³¨æ„ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"value=\\\"dark\\\"\"}],\" ä¼ é€’ \",[\"$r\",\"code\",null,{\"children\":\"\\\"dark\\\"\"}],\" å­—ç¬¦ä¸²ï¼Œä½† \",[\"$r\",\"code\",null,{\"children\":\"value={theme}\"}],\" ä¼ é€’å¸¦æœ‰ \",[\"$r\",\"a\",null,{\"href\":\"/learn/javascript-in-jsx-with-curly-braces\",\"children\":\"JSX èŠ±æ‹¬å·\"}],\" çš„ JavaScript \",[\"$r\",\"code\",null,{\"children\":\"theme\"}],\" å˜é‡çš„å€¼ã€‚èŠ±æ‹¬å·è¿˜å…è®¸ä¼ é€’éå­—ç¬¦ä¸²çš„ context å€¼ã€‚\"]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"updating-an-object-via-context\",\"children\":\"é€šè¿‡ context æ›´æ–°å¯¹è±¡ \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ä¸€ä¸ª \",[\"$r\",\"code\",null,{\"children\":\"currentUser\"}],\" çŠ¶æ€å˜é‡ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¯¹è±¡ã€‚å°† \",[\"$r\",\"code\",null,{\"children\":\"{ currentUser, setCurrentUser }\"}],\" ç»„åˆæˆä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶é€šè¿‡ context åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"value={}\"}],\" ä¸­å‘ä¸‹ä¼ é€’ã€‚è¿™å…è®¸ä¸‹é¢çš„ä»»ä½•ç»„ä»¶ï¼Œå¦‚ \",[\"$r\",\"code\",null,{\"children\":\"LoginButton\"}],\"ï¼ŒåŒæ—¶è¯»å– \",[\"$r\",\"code\",null,{\"children\":\"currentUser\"}],\" å’Œ \",[\"$r\",\"code\",null,{\"children\":\"setCurrentUser\"}],\"ï¼Œç„¶ååœ¨éœ€è¦æ—¶è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"setCurrentUser\"}],\"ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext, useState } from 'react';\\n\\nconst CurrentUserContext = createContext(null);\\n\\nexport default function MyApp() {\\n  const [currentUser, setCurrentUser] = useState(null);\\n  return (\\n    <CurrentUserContext.Provider\\n      value={{\\n        currentUser,\\n        setCurrentUser\\n      }}\\n    >\\n      <Form />\\n    </CurrentUserContext.Provider>\\n  );\\n}\\n\\nfunction Form({ children }) {\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      <LoginButton />\\n    </Panel>\\n  );\\n}\\n\\nfunction LoginButton() {\\n  const {\\n    currentUser,\\n    setCurrentUser\\n  } = useContext(CurrentUserContext);\\n\\n  if (currentUser !== null) {\\n    return <p>You logged in as {currentUser.name}.</p>;\\n  }\\n\\n  return (\\n    <Button onClick={() => {\\n      setCurrentUser({ name: 'Advika' })\\n    }}>Log in as Advika</Button>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  return (\\n    <section className=\\\"panel\\\">\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children, onClick }) {\\n  return (\\n    <button className=\\\"button\\\" onClick={onClick}>\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"label {\\n  display: block;\\n}\\n\\n.panel {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n}\\n\\n.button {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"multiple-contexts\",\"children\":\"åŒæ—¶ä½¿ç”¨å¤šä¸ª context \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ contextã€‚\",[\"$r\",\"code\",null,{\"children\":\"ThemeContext\"}],\" æä¾›äº†å½“å‰çš„ä¸»é¢˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œ \",[\"$r\",\"code\",null,{\"children\":\"CurrentUserContext\"}],\" ä¿å­˜äº†ä»£è¡¨å½“å‰ç”¨æˆ·çš„å¯¹è±¡ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext, useState } from 'react';\\n\\nconst ThemeContext = createContext(null);\\nconst CurrentUserContext = createContext(null);\\n\\nexport default function MyApp() {\\n  const [theme, setTheme] = useState('light');\\n  const [currentUser, setCurrentUser] = useState(null);\\n  return (\\n    <ThemeContext.Provider value={theme}>\\n      <CurrentUserContext.Provider\\n        value={{\\n          currentUser,\\n          setCurrentUser\\n        }}\\n      >\\n        <WelcomePanel />\\n        <label>\\n          <input\\n            type=\\\"checkbox\\\"\\n            checked={theme === 'dark'}\\n            onChange={(e) => {\\n              setTheme(e.target.checked ? 'dark' : 'light')\\n            }}\\n          />\\n          Use dark mode\\n        </label>\\n      </CurrentUserContext.Provider>\\n    </ThemeContext.Provider>\\n  )\\n}\\n\\nfunction WelcomePanel({ children }) {\\n  const {currentUser} = useContext(CurrentUserContext);\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      {currentUser !== null ?\\n        <Greeting /> :\\n        <LoginForm />\\n      }\\n    </Panel>\\n  );\\n}\\n\\nfunction Greeting() {\\n  const {currentUser} = useContext(CurrentUserContext);\\n  return (\\n    <p>You logged in as {currentUser.name}.</p>\\n  )\\n}\\n\\nfunction LoginForm() {\\n  const {setCurrentUser} = useContext(CurrentUserContext);\\n  const [firstName, setFirstName] = useState('');\\n  const [lastName, setLastName] = useState('');\\n  const canLogin = firstName.trim() !== '' && lastName.trim() !== '';\\n  return (\\n    <>\\n      <label>\\n        First name{': '}\\n        <input\\n          required\\n          value={firstName}\\n          onChange={e => setFirstName(e.target.value)}\\n        />\\n      </label>\\n      <label>\\n        Last name{': '}\\n        <input\\n        required\\n          value={lastName}\\n          onChange={e => setLastName(e.target.value)}\\n        />\\n      </label>\\n      <Button\\n        disabled={!canLogin}\\n        onClick={() => {\\n          setCurrentUser({\\n            name: firstName + ' ' + lastName\\n          });\\n        }}\\n      >\\n        Log in\\n      </Button>\\n      {!canLogin && <i>Fill in both fields.</i>}\\n    </>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children, disabled, onClick }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button\\n      className={className}\\n      disabled={disabled}\\n      onClick={onClick}\\n    >\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"label {\\n  display: block;\\n}\\n\\n.panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"extracting-providers-to-a-component\",\"children\":\"æŠŠ provider æŠ½ç¦»æˆç»„ä»¶ \"}],[\"$r\",\"p\",null,{\"children\":[\"éšç€ä½ çš„åº”ç”¨å¢é•¿ï¼Œé¢„è®¡ä½ ä¼šæœ‰ä¸€ä¸ªåƒâ€œé‡‘å­—å¡”â€ä¸€æ ·çš„ context å‡ºç°åœ¨é è¿‘ä½ åº”ç”¨çš„æ ¹éƒ¨ã€‚è¿™æ ·æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä»å®¡ç¾ä¸Šä¸å–œæ¬¢è¿™ç§åµŒå¥—ï¼Œä½ å¯ä»¥å°† provider æŠ½ç¦»æˆå•ç‹¬çš„ç»„ä»¶ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"MyProviders\"}],\" éšè—äº†â€œç®¡è·¯â€ï¼Œå¹¶ä¸”åœ¨éœ€è¦çš„ provider ä¸­æ¸²æŸ“ä¼ é€’ç»™å®ƒçš„å­èŠ‚ç‚¹ã€‚è¯·æ³¨æ„ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"MyApp\"}],\" æœ¬èº«éœ€è¦ \",[\"$r\",\"code\",null,{\"children\":\"theme\"}],\" å’Œ \",[\"$r\",\"code\",null,{\"children\":\"setTheme\"}],\" çŠ¶æ€ï¼Œå› æ­¤ \",[\"$r\",\"code\",null,{\"children\":\"MyApp\"}],\" ä»ç„¶æ‹¥æœ‰è¿™éƒ¨åˆ†çš„çŠ¶æ€ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext, useState } from 'react';\\n\\nconst ThemeContext = createContext(null);\\nconst CurrentUserContext = createContext(null);\\n\\nexport default function MyApp() {\\n  const [theme, setTheme] = useState('light');\\n  return (\\n    <MyProviders theme={theme} setTheme={setTheme}>\\n      <WelcomePanel />\\n      <label>\\n        <input\\n          type=\\\"checkbox\\\"\\n          checked={theme === 'dark'}\\n          onChange={(e) => {\\n            setTheme(e.target.checked ? 'dark' : 'light')\\n          }}\\n        />\\n        Use dark mode\\n      </label>\\n    </MyProviders>\\n  );\\n}\\n\\nfunction MyProviders({ children, theme, setTheme }) {\\n  const [currentUser, setCurrentUser] = useState(null);\\n  return (\\n    <ThemeContext.Provider value={theme}>\\n      <CurrentUserContext.Provider\\n        value={{\\n          currentUser,\\n          setCurrentUser\\n        }}\\n      >\\n        {children}\\n      </CurrentUserContext.Provider>\\n    </ThemeContext.Provider>\\n  );\\n}\\n\\nfunction WelcomePanel({ children }) {\\n  const {currentUser} = useContext(CurrentUserContext);\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      {currentUser !== null ?\\n        <Greeting /> :\\n        <LoginForm />\\n      }\\n    </Panel>\\n  );\\n}\\n\\nfunction Greeting() {\\n  const {currentUser} = useContext(CurrentUserContext);\\n  return (\\n    <p>You logged in as {currentUser.name}.</p>\\n  )\\n}\\n\\nfunction LoginForm() {\\n  const {setCurrentUser} = useContext(CurrentUserContext);\\n  const [firstName, setFirstName] = useState('');\\n  const [lastName, setLastName] = useState('');\\n  const canLogin = firstName !== '' && lastName !== '';\\n  return (\\n    <>\\n      <label>\\n        First name{': '}\\n        <input\\n          required\\n          value={firstName}\\n          onChange={e => setFirstName(e.target.value)}\\n        />\\n      </label>\\n      <label>\\n        Last name{': '}\\n        <input\\n        required\\n          value={lastName}\\n          onChange={e => setLastName(e.target.value)}\\n        />\\n      </label>\\n      <Button\\n        disabled={!canLogin}\\n        onClick={() => {\\n          setCurrentUser({\\n            name: firstName + ' ' + lastName\\n          });\\n        }}\\n      >\\n        Log in\\n      </Button>\\n      {!canLogin && <i>Fill in both fields.</i>}\\n    </>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children, disabled, onClick }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button\\n      className={className}\\n      disabled={disabled}\\n      onClick={onClick}\\n    >\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"label {\\n  display: block;\\n}\\n\\n.panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"scaling-up-with-context-and-a-reducer\",\"children\":\"ä½¿ç”¨ context å’Œ reducer è¿›è¡Œæ‰©å±• \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ï¼Œé€šå¸¸å°† context å’Œ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useReducer\",\"children\":\"reducer\"}],\" ç»“åˆèµ·æ¥ä»ç»„ä»¶ä¸­æŠ½ç¦»ä¸æŸç§çŠ¶æ€ç›¸å…³çš„é€»è¾‘ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‰€æœ‰çš„â€œçº¿è·¯â€éƒ½éšè—åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"TasksContext.js\"}],\" ä¸­ï¼Œå®ƒåŒ…å«ä¸€ä¸ª reducer å’Œä¸¤ä¸ªå•ç‹¬ contextã€‚\"]}],[\"$r\",\"p\",null,{\"children\":[\"é˜…è¯»è¿™ä¸ªä¾‹å­çš„ \",[\"$r\",\"a\",null,{\"href\":\"/learn/scaling-up-with-reducer-and-context\",\"children\":\"å®Œæ•´æ¼”ç¤ºã€‚\"}]]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/App.js\",\"children\":\"import AddTask from './AddTask.js';\\nimport TaskList from './TaskList.js';\\nimport { TasksProvider } from './TasksContext.js';\\n\\nexport default function TaskApp() {\\n  return (\\n    <TasksProvider>\\n      <h1>Day off in Kyoto</h1>\\n      <AddTask />\\n      <TaskList />\\n    </TasksProvider>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/TasksContext.js\",\"children\":\"import { createContext, useContext, useReducer } from 'react';\\n\\nconst TasksContext = createContext(null);\\n\\nconst TasksDispatchContext = createContext(null);\\n\\nexport function TasksProvider({ children }) {\\n  const [tasks, dispatch] = useReducer(\\n    tasksReducer,\\n    initialTasks\\n  );\\n\\n  return (\\n    <TasksContext.Provider value={tasks}>\\n      <TasksDispatchContext.Provider value={dispatch}>\\n        {children}\\n      </TasksDispatchContext.Provider>\\n    </TasksContext.Provider>\\n  );\\n}\\n\\nexport function useTasks() {\\n  return useContext(TasksContext);\\n}\\n\\nexport function useTasksDispatch() {\\n  return useContext(TasksDispatchContext);\\n}\\n\\nfunction tasksReducer(tasks, action) {\\n  switch (action.type) {\\n    case 'added': {\\n      return [...tasks, {\\n        id: action.id,\\n        text: action.text,\\n        done: false\\n      }];\\n    }\\n    case 'changed': {\\n      return tasks.map(t => {\\n        if (t.id === action.task.id) {\\n          return action.task;\\n        } else {\\n          return t;\\n        }\\n      });\\n    }\\n    case 'deleted': {\\n      return tasks.filter(t => t.id !== action.id);\\n    }\\n    default: {\\n      throw Error('Unknown action: ' + action.type);\\n    }\\n  }\\n}\\n\\nconst initialTasks = [\\n  { id: 0, text: 'Philosopherâ€™s Path', done: true },\\n  { id: 1, text: 'Visit the temple', done: false },\\n  { id: 2, text: 'Drink matcha', done: false }\\n];\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/AddTask.js\",\"children\":\"import { useState, useContext } from 'react';\\nimport { useTasksDispatch } from './TasksContext.js';\\n\\nexport default function AddTask() {\\n  const [text, setText] = useState('');\\n  const dispatch = useTasksDispatch();\\n  return (\\n    <>\\n      <input\\n        placeholder=\\\"Add task\\\"\\n        value={text}\\n        onChange={e => setText(e.target.value)}\\n      />\\n      <button onClick={() => {\\n        setText('');\\n        dispatch({\\n          type: 'added',\\n          id: nextId++,\\n          text: text,\\n        }); \\n      }}>Add</button>\\n    </>\\n  );\\n}\\n\\nlet nextId = 3;\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/TaskList.js\",\"children\":\"import { useState, useContext } from 'react';\\nimport { useTasks, useTasksDispatch } from './TasksContext.js';\\n\\nexport default function TaskList() {\\n  const tasks = useTasks();\\n  return (\\n    <ul>\\n      {tasks.map(task => (\\n        <li key={task.id}>\\n          <Task task={task} />\\n        </li>\\n      ))}\\n    </ul>\\n  );\\n}\\n\\nfunction Task({ task }) {\\n  const [isEditing, setIsEditing] = useState(false);\\n  const dispatch = useTasksDispatch();\\n  let taskContent;\\n  if (isEditing) {\\n    taskContent = (\\n      <>\\n        <input\\n          value={task.text}\\n          onChange={e => {\\n            dispatch({\\n              type: 'changed',\\n              task: {\\n                ...task,\\n                text: e.target.value\\n              }\\n            });\\n          }} />\\n        <button onClick={() => setIsEditing(false)}>\\n          Save\\n        </button>\\n      </>\\n    );\\n  } else {\\n    taskContent = (\\n      <>\\n        {task.text}\\n        <button onClick={() => setIsEditing(true)}>\\n          Edit\\n        </button>\\n      </>\\n    );\\n  }\\n  return (\\n    <label>\\n      <input\\n        type=\\\"checkbox\\\"\\n        checked={task.done}\\n        onChange={e => {\\n          dispatch({\\n            type: 'changed',\\n            task: {\\n              ...task,\\n              done: e.target.checked\\n            }\\n          });\\n        }}\\n      />\\n      {taskContent}\\n      <button onClick={() => {\\n        dispatch({\\n          type: 'deleted',\\n          id: task.id\\n        });\\n      }}>\\n        Delete\\n      </button>\\n    </label>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"button { margin: 5px; }\\nli { list-style-type: none; }\\nul, li { margin: 0; padding: 0; }\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"80\",{\"children\":[\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"specifying-a-fallback-default-value\",\"children\":\"æŒ‡å®šåå¤‡æ–¹æ¡ˆé»˜è®¤å€¼ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœ React æ²¡æœ‰åœ¨çˆ¶æ ‘ä¸­æ‰¾åˆ°è¯¥ç‰¹å®š \",[\"$r\",\"CodeStep\",null,{\"step\":1,\"children\":\"context\"}],\" çš„ä»»ä½• providerï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" è¿”å›çš„ context å€¼å°†ç­‰äºä½ åœ¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/createContext\",\"children\":\"åˆ›å»º context\"}],\" æ—¶æŒ‡å®šçš„ \",[\"$r\",\"CodeStep\",null,{\"step\":3,\"children\":\"é»˜è®¤å€¼\"}],\"ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 1, \\\"ThemeContext\\\"], [3, 1, \\\"null\\\"]]\",\"children\":\"const ThemeContext = createContext(null);\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é»˜è®¤å€¼ \",[\"$r\",\"strong\",null,{\"children\":\"ä»ä¸æ”¹å˜\"}],\"ã€‚å¦‚æœä½ æƒ³è¦æ›´æ–° contextï¼Œè¯·æŒ‰ \",[\"$r\",\"a\",null,{\"href\":\"#updating-data-passed-via-context\",\"children\":\"ä¸Šè¿°æ–¹å¼\"}],\" å°†å…¶ä¸çŠ¶æ€ä¸€èµ·ä½¿ç”¨ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é€šå¸¸ï¼Œé™¤äº† \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\"ï¼Œè¿˜æœ‰ä¸€äº›æ›´æœ‰æ„ä¹‰çš„å€¼å¯ä»¥ç”¨ä½œé»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 1, \\\"ThemeContext\\\"], [3, 1, \\\"light\\\"]]\",\"children\":\"const ThemeContext = createContext('light');\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"è¿™æ ·ï¼Œå¦‚æœä½ ä¸å°å¿ƒæ¸²æŸ“äº†æ²¡æœ‰ç›¸åº” provider çš„æŸä¸ªç»„ä»¶ï¼Œå®ƒä¹Ÿä¸ä¼šå‡ºé”™ã€‚è¿™ä¹Ÿæœ‰åŠ©äºä½ çš„ç»„ä»¶åœ¨æµ‹è¯•ç¯å¢ƒä¸­å¾ˆå¥½åœ°è¿è¡Œï¼Œè€Œæ— éœ€åœ¨æµ‹è¯•ä¸­è®¾ç½®è®¸å¤š providerã€‚\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œâ€œToggle themeâ€æŒ‰é’®æ€»æ˜¯å¤„äº light çŠ¶æ€ï¼Œå› ä¸ºå®ƒä½äº \",[\"$r\",\"strong\",null,{\"children\":\"ä»»ä½•ä¸»é¢˜çš„ context provider ä¹‹å¤–\"}],\"ï¼Œä¸” context ä¸»é¢˜çš„é»˜è®¤å€¼æ˜¯ \",[\"$r\",\"code\",null,{\"children\":\"'light'\"}],\"ã€‚è¯•ç€ç¼–è¾‘é»˜è®¤ä¸»é¢˜ä¸º \",[\"$r\",\"code\",null,{\"children\":\"'dark'\"}],\"ã€‚\"]}],\"\\n\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext, useState } from 'react';\\n\\nconst ThemeContext = createContext('light');\\n\\nexport default function MyApp() {\\n  const [theme, setTheme] = useState('light');\\n  return (\\n    <>\\n      <ThemeContext.Provider value={theme}>\\n        <Form />\\n      </ThemeContext.Provider>\\n      <Button onClick={() => {\\n        setTheme(theme === 'dark' ? 'light' : 'dark');\\n      }}>\\n        Toggle theme\\n      </Button>\\n    </>\\n  )\\n}\\n\\nfunction Form({ children }) {\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      <Button>Sign up</Button>\\n      <Button>Log in</Button>\\n    </Panel>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      <h1>{title}</h1>\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children, onClick }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button className={className} onClick={onClick}>\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\".panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"MaxWidth\",\"92\",{\"children\":[\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"overriding-context-for-a-part-of-the-tree\",\"children\":\"è¦†ç›–ç»„ä»¶æ ‘ä¸€éƒ¨åˆ†çš„ context \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"é€šè¿‡åœ¨ provider ä¸­ä½¿ç”¨ä¸åŒçš„å€¼åŒ…è£…æ ‘çš„æŸä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥è¦†ç›–è¯¥éƒ¨åˆ†çš„ contextã€‚\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{3,5}\",\"children\":\"<ThemeContext.Provider value=\\\"dark\\\">\\n  ...\\n  <ThemeContext.Provider value=\\\"light\\\">\\n    <Footer />\\n  </ThemeContext.Provider>\\n  ...\\n</ThemeContext.Provider>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä½ å¯ä»¥æ ¹æ®éœ€è¦å¤šæ¬¡åµŒå¥—å’Œè¦†ç›– providerã€‚\"}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"Examples of overriding context\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"overriding-a-theme\",\"children\":\"è¦†ç›–ä¸»é¢˜ \"}],[\"$r\",\"p\",null,{\"children\":[\"è¿™é‡Œï¼Œä¸ \",[\"$r\",\"code\",null,{\"children\":\"Footer\"}],\" å¤–çš„å€¼ä¸ºï¼ˆ\",[\"$r\",\"code\",null,{\"children\":\"\\\"dark\\\"\"}],\"ï¼‰çš„æŒ‰é’®ç›¸æ¯”ï¼Œ\",[\"$r\",\"strong\",null,{\"children\":\"é‡Œé¢\"}],\" çš„æŒ‰é’®æ¥æ”¶åˆ°ä¸€ä¸ªä¸ä¸€æ ·çš„ context å€¼ï¼ˆ\",[\"$r\",\"code\",null,{\"children\":\"\\\"light\\\"\"}],\"ï¼‰ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createContext, useContext } from 'react';\\n\\nconst ThemeContext = createContext(null);\\n\\nexport default function MyApp() {\\n  return (\\n    <ThemeContext.Provider value=\\\"dark\\\">\\n      <Form />\\n    </ThemeContext.Provider>\\n  )\\n}\\n\\nfunction Form() {\\n  return (\\n    <Panel title=\\\"Welcome\\\">\\n      <Button>Sign up</Button>\\n      <Button>Log in</Button>\\n      <ThemeContext.Provider value=\\\"light\\\">\\n        <Footer />\\n      </ThemeContext.Provider>\\n    </Panel>\\n  );\\n}\\n\\nfunction Footer() {\\n  return (\\n    <footer>\\n      <Button>Settings</Button>\\n    </footer>\\n  );\\n}\\n\\nfunction Panel({ title, children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'panel-' + theme;\\n  return (\\n    <section className={className}>\\n      {title && <h1>{title}</h1>}\\n      {children}\\n    </section>\\n  )\\n}\\n\\nfunction Button({ children }) {\\n  const theme = useContext(ThemeContext);\\n  const className = 'button-' + theme;\\n  return (\\n    <button className={className}>\\n      {children}\\n    </button>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"footer {\\n  margin-top: 20px;\\n  border-top: 1px solid #aaa;\\n}\\n\\n.panel-light,\\n.panel-dark {\\n  border: 1px solid black;\\n  border-radius: 4px;\\n  padding: 20px;\\n}\\n.panel-light {\\n  color: #222;\\n  background: #fff;\\n}\\n\\n.panel-dark {\\n  color: #fff;\\n  background: rgb(23, 32, 42);\\n}\\n\\n.button-light,\\n.button-dark {\\n  border: 1px solid #777;\\n  padding: 5px;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n}\\n\\n.button-dark {\\n  background: #222;\\n  color: #fff;\\n}\\n\\n.button-light {\\n  background: #fff;\\n  color: #222;\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"automatically-nested-headings\",\"children\":\"è‡ªåŠ¨åµŒå¥—æ ‡é¢˜ \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨åµŒå¥—ä½¿ç”¨ context provider æ—¶ï¼Œå¯ä»¥â€œç´¯ç§¯â€ä¿¡æ¯ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"Section\"}],\" ç»„ä»¶è®°å½•äº† \",[\"$r\",\"code\",null,{\"children\":\"LevelContext\"}],\"ï¼Œè¯¥ context æŒ‡å®šäº† section åµŒå¥—çš„æ·±åº¦ã€‚å®ƒä»çˆ¶çº§ section ä¸­è¯»å– \",[\"$r\",\"code\",null,{\"children\":\"LevelContext\"}],\"ï¼Œç„¶åæŠŠ \",[\"$r\",\"code\",null,{\"children\":\"LevelContext\"}],\" çš„æ•°å€¼åŠ ä¸€ä¼ é€’ç»™å­çº§ã€‚å› æ­¤ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"Heading\"}],\" ç»„ä»¶å¯ä»¥æ ¹æ®è¢« \",[\"$r\",\"code\",null,{\"children\":\"Section\"}],\" ç»„ä»¶åµŒå¥—çš„å±‚æ•°è‡ªåŠ¨å†³å®šä½¿ç”¨ \",[\"$r\",\"code\",null,{\"children\":\"<h1>\"}],\"ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"<h2>\"}],\"ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"<h3>\"}],\"ï¼Œâ€¦ï¼Œä¸­çš„å“ªç§æ ‡ç­¾ã€‚\"]}],[\"$r\",\"p\",null,{\"children\":[\"é˜…è¯»æ­¤ç¤ºä¾‹çš„ \",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-data-deeply-with-context\",\"children\":\"è¯¦ç»†æ¼”ç¤º\"}]]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import Heading from './Heading.js';\\nimport Section from './Section.js';\\n\\nexport default function Page() {\\n  return (\\n    <Section>\\n      <Heading>Title</Heading>\\n      <Section>\\n        <Heading>Heading</Heading>\\n        <Heading>Heading</Heading>\\n        <Heading>Heading</Heading>\\n        <Section>\\n          <Heading>Sub-heading</Heading>\\n          <Heading>Sub-heading</Heading>\\n          <Heading>Sub-heading</Heading>\\n          <Section>\\n            <Heading>Sub-sub-heading</Heading>\\n            <Heading>Sub-sub-heading</Heading>\\n            <Heading>Sub-sub-heading</Heading>\\n          </Section>\\n        </Section>\\n      </Section>\\n    </Section>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/Section.js\",\"children\":\"import { useContext } from 'react';\\nimport { LevelContext } from './LevelContext.js';\\n\\nexport default function Section({ children }) {\\n  const level = useContext(LevelContext);\\n  return (\\n    <section className=\\\"section\\\">\\n      <LevelContext.Provider value={level + 1}>\\n        {children}\\n      </LevelContext.Provider>\\n    </section>\\n  );\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/Heading.js\",\"children\":\"import { useContext } from 'react';\\nimport { LevelContext } from './LevelContext.js';\\n\\nexport default function Heading({ children }) {\\n  const level = useContext(LevelContext);\\n  switch (level) {\\n    case 0:\\n      throw Error('Heading must be inside a Section!');\\n    case 1:\\n      return <h1>{children}</h1>;\\n    case 2:\\n      return <h2>{children}</h2>;\\n    case 3:\\n      return <h3>{children}</h3>;\\n    case 4:\\n      return <h4>{children}</h4>;\\n    case 5:\\n      return <h5>{children}</h5>;\\n    case 6:\\n      return <h6>{children}</h6>;\\n    default:\\n      throw Error('Unknown level: ' + level);\\n  }\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/LevelContext.js\",\"children\":\"import { createContext } from 'react';\\n\\nexport const LevelContext = createContext(0);\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\".section {\\n  padding: 10px;\\n  margin: 5px;\\n  border-radius: 5px;\\n  border: 1px solid #aaa;\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"last\",{\"children\":[\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"optimizing-re-renders-when-passing-objects-and-functions\",\"children\":\"åœ¨ä¼ é€’å¯¹è±¡å’Œå‡½æ•°æ—¶ä¼˜åŒ–é‡æ–°æ¸²æŸ“ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä½ å¯ä»¥é€šè¿‡ context ä¼ é€’ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬å¯¹è±¡å’Œå‡½æ•°ã€‚\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[2, 10, \\\"{ currentUser, login }\\\"]] \",\"children\":\"function MyApp() {\\n  const [currentUser, setCurrentUser] = useState(null);\\n\\n  function login(response) {\\n    storeCredentials(response.credentials);\\n    setCurrentUser(response.user);\\n  }\\n\\n  return (\\n    <AuthContext.Provider value={{ currentUser, login }}>\\n      <Page />\\n    </AuthContext.Provider>\\n  );\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"æ­¤å¤„ï¼Œ\",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":\"context value\"}],\" æ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå±æ€§çš„ JavaScript å¯¹è±¡ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯å‡½æ•°ã€‚æ¯å½“ \",[\"$r\",\"code\",null,{\"children\":\"MyApp\"}],\" å‡ºç°é‡æ–°æ¸²æŸ“ï¼ˆä¾‹å¦‚ï¼Œè·¯ç”±æ›´æ–°ï¼‰æ—¶ï¼Œè¿™é‡Œå°†ä¼šæ˜¯ä¸€ä¸ª \",[\"$r\",\"strong\",null,{\"children\":\"ä¸åŒçš„\"}],\" å¯¹è±¡æŒ‡å‘ \",[\"$r\",\"strong\",null,{\"children\":\"ä¸åŒçš„\"}],\" å‡½æ•°ï¼Œå› æ­¤ React è¿˜å¿…é¡»é‡æ–°æ¸²æŸ“æ ‘ä¸­è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext(AuthContext)\"}],\" çš„æ‰€æœ‰ç»„ä»¶ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¾ƒå°çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™ä¸æ˜¯é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœåŸºç¡€æ•°æ®å¦‚ \",[\"$r\",\"code\",null,{\"children\":\"currentUser\"}],\" æ²¡æœ‰æ›´æ”¹ï¼Œåˆ™ä¸éœ€è¦é‡æ–°æ¸²æŸ“å®ƒä»¬ã€‚ä¸ºäº†å¸®åŠ© React åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useCallback\",\"children\":[\"$r\",\"code\",null,{\"children\":\"useCallback\"}]}],\" åŒ…è£… \",[\"$r\",\"code\",null,{\"children\":\"login\"}],\" å‡½æ•°ï¼Œå¹¶å°†å¯¹è±¡åˆ›å»ºåŒ…è£…åˆ° \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useMemo\",\"children\":[\"$r\",\"code\",null,{\"children\":\"useMemo\"}]}],\" ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–çš„ä¾‹å­ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{6,9,11,14,17}\",\"children\":\"import { useCallback, useMemo } from 'react';\\n\\nfunction MyApp() {\\n  const [currentUser, setCurrentUser] = useState(null);\\n\\n  const login = useCallback((response) => {\\n    storeCredentials(response.credentials);\\n    setCurrentUser(response.user);\\n  }, []);\\n\\n  const contextValue = useMemo(() => ({\\n    currentUser,\\n    login\\n  }), [currentUser, login]);\\n\\n  return (\\n    <AuthContext.Provider value={contextValue}>\\n      <Page />\\n    </AuthContext.Provider>\\n  );\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"æ ¹æ®ä»¥ä¸Šæ”¹å˜ï¼Œå³ä½¿ \",[\"$r\",\"code\",null,{\"children\":\"MyApp\"}],\" éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œè°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext(AuthContext)\"}],\" çš„ç»„ä»¶ä¹Ÿä¸éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œé™¤é \",[\"$r\",\"code\",null,{\"children\":\"currentUser\"}],\" å‘ç”Ÿäº†å˜åŒ–ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é˜…è¯»æ›´å¤šå…³äº \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useMemo#skipping-re-rendering-of-components\",\"children\":[\"$r\",\"code\",null,{\"children\":\"useMemo\"}]}],\" å’Œ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useCallback#skipping-re-rendering-of-components\",\"children\":[\"$r\",\"code\",null,{\"children\":\"useCallback\"}]}],\" çš„å†…å®¹ã€‚\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"troubleshooting\",\"children\":\"ç–‘éš¾è§£ç­” \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"my-component-doesnt-see-the-value-from-my-provider\",\"children\":\"æˆ‘çš„ç»„ä»¶è·å–ä¸åˆ° provider ä¼ é€’çš„å€¼\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"è¿™é‡Œæœ‰å‡ ç§å¸¸è§çš„æƒ…å†µä¼šå¼•èµ·è¿™ä¸ªé—®é¢˜ï¼š\"}],\"\\n\",[\"$r\",\"ol\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ä½ åœ¨è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" çš„åŒä¸€ç»„ä»¶ï¼ˆæˆ–ä¸‹å±‚ï¼‰æ¸²æŸ“ \",[\"$r\",\"code\",null,{\"children\":\"<SomeContext.Provider>\"}],\"ã€‚æŠŠ \",[\"$r\",\"code\",null,{\"children\":\"<SomeContext.Provider>\"}],\" å‘è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext()\"}],\" ç»„ä»¶ \",[\"$r\",\"strong\",null,{\"children\":\"ä¹‹ä¸Šå’Œä¹‹å¤–\"}],\" ç§»åŠ¨ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ä½ å¯èƒ½å¿˜è®°äº†ä½¿ç”¨ \",[\"$r\",\"code\",null,{\"children\":\"<SomeContext.Provider>\"}],\" åŒ…è£…ç»„ä»¶ï¼Œæˆ–è€…ä½ å¯èƒ½å°†ç»„ä»¶æ”¾åœ¨æ ‘çš„ä¸åŒéƒ¨åˆ†ã€‚ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/learn/react-developer-tools\",\"children\":\"React DevTools\"}],\" æ£€æŸ¥ç»„ä»¶æ ‘çš„å±‚çº§æ˜¯å¦æ­£ç¡®ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ä½ çš„å·¥å…·å¯èƒ½ä¼šé‡åˆ°ä¸€äº›æ„å»ºé—®é¢˜ï¼Œå¯¼è‡´ä½ åœ¨ä¼ å€¼ç»„ä»¶ä¸­çš„æ‰€çœ‹åˆ°çš„ \",[\"$r\",\"code\",null,{\"children\":\"SomeContext\"}],\" å’Œè¯»å€¼ç»„ä»¶ä¸­æ‰€çœ‹åˆ°çš„ \",[\"$r\",\"code\",null,{\"children\":\"SomeContext\"}],\" æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ç¬¦å·é“¾æ¥ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ä½ å¯ä»¥é€šè¿‡å°†å®ƒä»¬èµ‹å€¼ç»™å…¨å±€å¯¹è±¡å¦‚ \",[\"$r\",\"code\",null,{\"children\":\"window.SomeContext1\"}],\" å’Œ \",[\"$r\",\"code\",null,{\"children\":\"window.SomeContext2\"}],\" æ¥éªŒè¯è¿™ç§æƒ…å†µã€‚ç„¶ååœ¨æ§åˆ¶å°æ£€æŸ¥ \",[\"$r\",\"code\",null,{\"children\":\"window.SomeContext1 === window.SomeContext2\"}],\" æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœå®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå°±åœ¨æ„å»ºå·¥å…·å±‚é¢ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"i-am-always-getting-undefined-from-my-context-although-the-default-value-is-different\",\"children\":[\"å°½ç®¡è®¾ç½®äº†ä¸ä¸€æ ·çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯æˆ‘æ€»æ˜¯ä» context ä¸­å¾—åˆ° \",[\"$r\",\"code\",null,{\"children\":\"undefined\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ä½ å¯èƒ½åœ¨ç»„ä»¶æ ‘ä¸­æœ‰ä¸€ä¸ªæ²¡æœ‰è®¾ç½® \",[\"$r\",\"code\",null,{\"children\":\"value\"}],\" çš„ providerï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{1,2}\",\"children\":\"// ğŸš© ä¸èµ·ä½œç”¨ï¼šæ²¡æœ‰ value ä½œä¸º prop\\n<ThemeContext.Provider>\\n   <Button />\\n</ThemeContext.Provider>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœä½ å¿˜è®°äº†æŒ‡å®š \",[\"$r\",\"code\",null,{\"children\":\"value\"}],\"ï¼Œå®ƒä¼šåƒè¿™æ ·ä¼ å€¼ \",[\"$r\",\"code\",null,{\"children\":\"value={undefined}\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä½ å¯èƒ½è¿˜é”™è¯¯åœ°ä½¿ç”¨äº†ä¸€ä¸ªä¸åŒçš„ prop åï¼š\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{1,2}\",\"children\":\"// ğŸš© ä¸èµ·ä½œç”¨ï¼šprop åº”è¯¥æ˜¯â€œvalueâ€\\n<ThemeContext.Provider theme={theme}>\\n   <Button />\\n</ThemeContext.Provider>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½åº”è¯¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ° React å‘å‡ºçš„è­¦å‘Šã€‚è¦è§£å†³è¿™äº›é—®é¢˜ï¼Œä½¿ç”¨ \",[\"$r\",\"code\",null,{\"children\":\"value\"}],\" ä½œä¸º propï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{1,2}\",\"children\":\"// âœ… ä¼ é€’ value ä½œä¸º prop\\n<ThemeContext.Provider value={theme}>\\n   <Button />\\n</ThemeContext.Provider>\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"æ³¨æ„ï¼Œåªæœ‰åœ¨ \",[\"$r\",\"strong\",null,{\"children\":\"ä¸Šå±‚æ ¹æœ¬æ²¡æœ‰åŒ¹é…çš„ provider\"}],\" æ—¶æ‰ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"#specifying-a-fallback-default-value\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"createContext(defaultValue)\"}],\"è°ƒç”¨çš„é»˜è®¤å€¼\"]}],\"ã€‚å¦‚æœå­˜åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"<SomeContext.Provider value={undefined}>\"}],\" ç»„ä»¶åœ¨çˆ¶æ ‘çš„æŸä¸ªä½ç½®ï¼Œè°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useContext(SomeContext)\"}],\" çš„ç»„ä»¶ \",[\"$r\",\"strong\",null,{\"children\":\"å°†ä¼š\"}],\" æ¥æ”¶åˆ° \",[\"$r\",\"code\",null,{\"children\":\"undefined\"}],\" ä½œä¸º context çš„å€¼ã€‚\"]}]]}]]","meta":{"title":"useContext"}},"__N_SSG":true}