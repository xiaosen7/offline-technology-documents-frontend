{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"概览\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"参考 \"},{\"url\":\"#script\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"用法 \"},{\"url\":\"#rendering-an-external-script\",\"depth\":3,\"text\":\"渲染内部脚本 \"},{\"url\":\"#rendering-an-inline-script\",\"depth\":3,\"text\":\"渲染内联脚本 \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"Canary\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[\"React 对 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 的扩展当前仅在 React Canary 与 experimental 渠道中可用。在 React 的稳定版本中，\",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 仅作为 \",[\"$r\",\"a\",null,{\"href\":\"https://react.dev/reference/react-dom/components#all-html-components\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"浏览器内置 HTML 组件\"}],\" 使用。请在 \",[\"$r\",\"a\",null,{\"href\":\"/community/versioning-policy#all-release-channels\",\"children\":\"此处了解更多关于 React 发布渠道的信息\"}],\"。\"]}]}],\"\\n\",[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"浏览器内置的 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 组件\"]}],\" 允许向文档添加脚本。\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"<script> alert(\\\"hi!\\\") </script>\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"参考 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"script\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"渲染 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"浏览器内置的 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 组件\"]}],\" 以向文档添加内联或外部脚本。可以在任何组件中渲染 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\"，React 将在某些情况下将相应的 DOM 元素放置在文档头部，并对相同的脚本进行去重。\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"<script> alert(\\\"hi!\\\") </script>\\n<script src=\\\"script.js\\\" />\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"参见下方更多示例\"}],\"。\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"props\",\"children\":\"属性 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 支持所有 \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/components/common#props\",\"children\":\"通用元素属性\"}],\"。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"它应该要么具有 \",[\"$r\",\"code\",null,{\"children\":\"children\"}],\" 属性，要么具有 \",[\"$r\",\"code\",null,{\"children\":\"src\"}],\" 属性。\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"children\"}],\"：字符串，内联脚本的源代码。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"src\"}],\"：字符串，外部脚本的 URL。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"但也支持其他属性：\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"async\"}],\"：布尔值，允许浏览器延迟执行脚本，直到文档的其余部分已经处理完毕——这是性能优化的首选行为。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"crossOrigin\"}],\"：字符串，表示要使用的 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"CORS 策略\"}],\"，其可能的值为 \",[\"$r\",\"code\",null,{\"children\":\"anonymous\"}],\" 和 \",[\"$r\",\"code\",null,{\"children\":\"use-credentials\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"fetchPriority\"}],\"：字符串，用于指示浏览器在同时获取多个脚本时按优先级对脚本进行排名，可能的值包括 \",[\"$r\",\"code\",null,{\"children\":\"\\\"high\\\"\"}],\"、\",[\"$r\",\"code\",null,{\"children\":\"\\\"low\\\"\"}],\" 与 \",[\"$r\",\"code\",null,{\"children\":\"\\\"auto\\\"\"}],\"（默认值）。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"integrity\"}],\"：字符串，脚本的密码哈希，用于 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"验证其真实性\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"noModule\"}],\"：布尔值，表示在支持 ES 模块的浏览器中禁用脚本——用于为不支持的浏览器提供一个后备脚本。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"nonce\"}],\"：字符串，表示使用严格内容安全策略时允许资源的 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/nonce\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"加密随机数\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"referrer\"}],\"：字符串，指定在获取脚本以及脚本依次获取任何资源时发送的 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#referrerpolicy\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"referer 请求头\"}],\"。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"type\"}],\"：字符串，指定脚本是一个 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script/type\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"传统脚本、ES 模块还是导入映射\"}],\"。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"禁用 React 对脚本的 \",[\"$r\",\"a\",null,{\"href\":\"#special-rendering-behavior\",\"children\":\"特殊处理\"}],\" 的属性：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"onError\"}],\"：脚本加载失败时调用的函数。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"onLoad\"}],\"：脚本加载完成时调用的函数。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"不建议与 React 一起使用的属性：\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"blocking\"}],\"：字符串。如果其设置为 \",[\"$r\",\"code\",null,{\"children\":\"\\\"render\\\"\"}],\"，指示浏览器在脚本加载完成之前不要渲染页面。React 使用 Suspense 提供了更精细的控制。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"defer\"}],\"：字符串，用于防止浏览器在文档加载完成之前执行脚本。与流式服务器端渲染组件不兼容。请改用 \",[\"$r\",\"code\",null,{\"children\":\"async\"}],\" 属性。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"special-rendering-behavior\",\"children\":\"特殊的渲染行为 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"React 可以将 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 组件移动到文档的 \",[\"$r\",\"code\",null,{\"children\":\"<head>\"}],\" 中，并对相同脚本进行去重，并在脚本加载时 \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/Suspense\",\"children\":\"挂起\"}],\"。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"可以提供 \",[\"$r\",\"code\",null,{\"children\":\"src\"}],\" 和 \",[\"$r\",\"code\",null,{\"children\":\"async={true}\"}],\" 属性以选择行为。如果脚本具有相同的 \",[\"$r\",\"code\",null,{\"children\":\"src\"}],\"，React 将对脚本去重。\",[\"$r\",\"code\",null,{\"children\":\"async\"}],\" 属性必须为 true 才能安全地移动脚本。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果提供了 \",[\"$r\",\"code\",null,{\"children\":\"onLoad\"}],\" 或 \",[\"$r\",\"code\",null,{\"children\":\"onError\"}],\" 之类的任何属性，则没有特殊行为，因为这些属性表明正在组件内手动管理脚本的加载。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"这种特殊处理带来两个注意事项：\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"在脚本被渲染后，React 将忽略属性的更改（React 在开发环境中会对这种情况发出警告）。\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"即使渲染它的组件已被卸载，React 也可能将脚本保留在 DOM 中（这不会产生影响，因为脚本只在插入到 DOM 中时执行一次）。\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"用法 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"rendering-an-external-script\",\"children\":\"渲染内部脚本 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果一个组件依赖于某些脚本才能正确显示，则可以在组件内部渲染 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\"。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果提供了 \",[\"$r\",\"code\",null,{\"children\":\"src\"}],\" 和 \",[\"$r\",\"code\",null,{\"children\":\"async\"}],\" 属性，组件会在脚本加载时挂起。React 会对具有相同 \",[\"$r\",\"code\",null,{\"children\":\"src\"}],\" 的脚本去重，因此即使多个组件渲染了相同的脚本，也只会将其中一个插入到 DOM 中。\"]}],\"\\n\",[\"$r\",\"SandpackWithHTMLOutput\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/App.js active\",\"children\":\"import ShowRenderedHTML from './ShowRenderedHTML.js';\\n\\nfunction Map({lat, long}) {\\n  return (\\n    <>\\n      <script async src=\\\"map-api.js\\\" />\\n      <div id=\\\"map\\\" data-lat={lat} data-long={long} />\\n    </>\\n  );\\n}\\n\\nexport default function Page() {\\n  return (\\n    <ShowRenderedHTML>\\n      <Map />\\n    </ShowRenderedHTML>\\n  );\\n}\\n\"}]}]}],\"\\n\",[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[\"想要使用脚本时，调用 \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preinit\",\"children\":\"preinit\"}],\" 函数可能会有益处。调用此函数可能会使浏览器比仅渲染 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 组件更早地开始获取脚本，例如通过发送 \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/103\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"HTTP 103 Early Hints 响应\"}],\"。\"]}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"rendering-an-inline-script\",\"children\":\"渲染内联脚本 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果需要包含内联脚本，请将 \",[\"$r\",\"code\",null,{\"children\":\"<script>\"}],\" 组件渲染为其子元素的脚本源代码。内联脚本不会被去重或移动到文档 \",[\"$r\",\"code\",null,{\"children\":\"<head>\"}],\" 中，由于它们不加载任何外部资源，因此不会导致组件挂起。\"]}],\"\\n\",[\"$r\",\"SandpackWithHTMLOutput\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"src/App.js active\",\"children\":\"import ShowRenderedHTML from './ShowRenderedHTML.js';\\n\\nfunction Tracking() {\\n  return (\\n    <script>\\n      ga('send', 'pageview');\\n    </script>\\n  );\\n}\\n\\nexport default function Page() {\\n  return (\\n    <ShowRenderedHTML>\\n      <h1>My Website</h1>\\n      <Tracking />\\n      <p>Welcome</p>\\n    </ShowRenderedHTML>\\n  );\\n}\\n\"}]}]}]]}]]","meta":{"script":"<script>","canary":true}},"__N_SSG":true}