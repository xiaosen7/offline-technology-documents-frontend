{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"æ¦‚è§ˆ\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"Reference \"},{\"url\":\"#rendertostring\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"renderToString(reactNode, options?)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"ç”¨æ³• \"},{\"url\":\"#rendering-a-react-tree-as-html-to-a-string\",\"depth\":3,\"text\":\"å°† React æ ‘æ¸²æŸ“ä¸º HTML å­—ç¬¦ä¸² \"},{\"url\":\"#alternatives\",\"depth\":2,\"text\":\"æ›¿ä»£æ–¹æ¡ˆ \"},{\"url\":\"#migrating-from-rendertostring-to-a-streaming-method-on-the-server\",\"depth\":3,\"text\":[\"ä» \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" è¿ç§»åˆ°æœåŠ¡å™¨ä¸Šçš„æµå¼ä¼ è¾“æ–¹æ³• \"]},{\"url\":\"#removing-rendertostring-from-the-client-code\",\"depth\":3,\"text\":[\"ä»å®¢æˆ·ç«¯ä»£ç ä¸­ç§»é™¤ \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" \"]},{\"url\":\"#troubleshooting\",\"depth\":2,\"text\":\"æ•…éšœæ’é™¤ \"},{\"url\":\"#when-a-component-suspends-the-html-always-contains-a-fallback\",\"depth\":3,\"text\":\"å½“ç»„ä»¶æš‚åœæ—¶ï¼ŒHTML ä¸­å§‹ç»ˆåŒ…å«ä¸€ä¸ªåå¤‡æ–¹æ¡ˆ \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"Pitfall\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ä¸æ”¯æŒæµå¼ä¼ è¾“æˆ–ç­‰å¾…æ•°æ®ã€‚\",[\"$r\",\"a\",null,{\"href\":\"#alternatives\",\"children\":\"è¯·å‚è€ƒæ›¿ä»£æ–¹æ¡ˆ\"}],\"ã€‚\"]}]}],\"\\n\",[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å°† React æ ‘æ¸²æŸ“ä¸ºä¸€ä¸ª HTML å­—ç¬¦ä¸²ã€‚\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const html = renderToString(reactNode, options?)\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"Reference \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"rendertostring\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString(reactNode, options?)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨æœåŠ¡å™¨ï¼Œè°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å°†ä½ çš„åº”ç”¨æ¸²æŸ“ä¸º HTMLã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { renderToString } from 'react-dom/server';\\n\\nconst html = renderToString(<App />);\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨å®¢æˆ·ç«¯ï¼Œè°ƒç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/client/hydrateRoot\",\"children\":[\"$r\",\"code\",null,{\"children\":\"hydrateRoot\"}]}],\" æ¥ä½¿æœåŠ¡å™¨ç”Ÿæˆçš„ HTML å…·æœ‰äº¤äº’æ€§ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"è¯·å‚è€ƒä¸‹é¢çš„æ›´å¤šç¤ºä¾‹\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"å‚æ•° \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"reactNode\"}],\"ï¼šä½ è¦æ¸²æŸ“ä¸º HTML çš„ React èŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª JSX èŠ‚ç‚¹ï¼Œå°±åƒ \",[\"$r\",\"code\",null,{\"children\":\"<App />\"}],\"ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"optional\"}],\" \",[\"$r\",\"code\",null,{\"children\":\"options\"}],\": An object for server render.\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"optional\"}],\" \",[\"$r\",\"code\",null,{\"children\":\"identifierPrefix\"}],\": A string prefix React uses for IDs generated by \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useId\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"useId\"}],\".\"]}],\" Useful to avoid conflicts when using multiple roots on the same page. Must be the same prefix as passed to \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/client/hydrateRoot#parameters\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"hydrateRoot\"}],\".\"]}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"Returns \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä¸€ä¸ª HTML å­—ç¬¦ä¸²ã€‚\"}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"æ³¨æ„äº‹é¡¹ \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å¯¹ Suspense çš„æ”¯æŒæœ‰é™ã€‚å¦‚æœä¸€ä¸ªç»„ä»¶æŒ‚èµ·ï¼ˆsuspendï¼‰ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ä¼šç«‹å³å°†å…¶åå¤‡æ–¹æ¡ˆä½œä¸º HTML å‘é€ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å·¥ä½œï¼Œä½† \",[\"$r\",\"a\",null,{\"href\":\"#removing-rendertostring-from-the-client-code\",\"children\":\"ä¸æ¨è\"}],\" åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ä½¿ç”¨å®ƒã€‚\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"ç”¨æ³• \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"rendering-a-react-tree-as-html-to-a-string\",\"children\":\"å°† React æ ‘æ¸²æŸ“ä¸º HTML å­—ç¬¦ä¸² \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å°†ä½ çš„åº”ç”¨æ¸²æŸ“ä¸º HTML å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥å°†å…¶ä¸æœåŠ¡å™¨å“åº”ä¸€èµ·å‘é€ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{5-6}\",\"children\":\"import { renderToString } from 'react-dom/server';\\n\\n// è·¯ç”±å¤„ç†ç¨‹åºçš„è¯­æ³•å–å†³äºä½ ä½¿ç”¨çš„åç«¯æ¡†æ¶\\napp.use('/', (request, response) => {\\n  const html = renderToString(<App />);\\n  response.send(html);\\n});\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"è¿™å°†ç”Ÿæˆä½ çš„ React ç»„ä»¶çš„åˆå§‹éäº¤äº’å¼ HTML è¾“å‡ºã€‚åœ¨å®¢æˆ·ç«¯ä¸Šï¼Œä½ éœ€è¦è°ƒç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/client/hydrateRoot\",\"children\":[\"$r\",\"code\",null,{\"children\":\"hydrateRoot\"}]}],\" æ¥å°†æœåŠ¡å™¨ç”Ÿæˆçš„ HTML è¿›è¡Œ hydrate å¤„ç†ï¼Œä½¿å…¶å…·æœ‰äº¤äº’åŠŸèƒ½ã€‚\"]}],\"\\n\",[\"$r\",\"Pitfall\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ä¸æ”¯æŒæµå¼ä¼ è¾“æˆ–ç­‰å¾…æ•°æ®ã€‚\",[\"$r\",\"a\",null,{\"href\":\"#alternatives\",\"children\":\"è¯·å‚è€ƒæ›¿ä»£æ–¹æ¡ˆ\"}],\"ã€‚\"]}]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"alternatives\",\"children\":\"æ›¿ä»£æ–¹æ¡ˆ \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"migrating-from-rendertostring-to-a-streaming-method-on-the-server\",\"children\":[\"ä» \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" è¿ç§»åˆ°æœåŠ¡å™¨ä¸Šçš„æµå¼ä¼ è¾“æ–¹æ³• \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ç«‹å³è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤ä¸æ”¯æŒæµå¼ä¼ è¾“æˆ–ç­‰å¾…æ•°æ®ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨è¿™äº›åŠŸèƒ½å®Œæ•´çš„æ›¿ä»£æ–¹æ³•ï¼š\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¦‚æœä½ ä½¿ç”¨ Node.jsï¼Œè¯·ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/server/renderToPipeableStream\",\"children\":[\"$r\",\"code\",null,{\"children\":\"renderToPipeableStream\"}]}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¦‚æœä½ ä½¿ç”¨ Deno æˆ–æ”¯æŒ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/Streams_API\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"Web Streams\"}],\" çš„ç°ä»£è¿è¡Œæ—¶ï¼Œè¯·ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/server/renderToReadableStream\",\"children\":[\"$r\",\"code\",null,{\"children\":\"renderToReadableStream\"}]}],\"ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœä½ çš„æœåŠ¡å™¨ç¯å¢ƒä¸æ”¯æŒæµå¼ä¼ è¾“ï¼Œä½ ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"removing-rendertostring-from-the-client-code\",\"children\":[\"ä»å®¢æˆ·ç«¯ä»£ç ä¸­ç§»é™¤ \",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"æœ‰æ—¶ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ç”¨äºåœ¨å®¢æˆ·ç«¯å°†æŸä¸ªç»„ä»¶è½¬æ¢ä¸º HTMLã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{1-2}\",\"children\":\"// ğŸš© ä¸å¿…è¦ï¼šåœ¨å®¢æˆ·ç«¯ä½¿ç”¨ renderToString\\nimport { renderToString } from 'react-dom/server';\\n\\nconst html = renderToString(<MyIcon />);\\nconsole.log(html); // ä¾‹å¦‚ï¼Œ\\\"<svg>...</svg>\\\"\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨å®¢æˆ·ç«¯å¯¼å…¥ \",[\"$r\",\"code\",null,{\"children\":\"react-dom/server\"}],\" ä¼šä¸å¿…è¦åœ°å¢åŠ  bundle å¤§å°ï¼Œæ‰€ä»¥åº”è¯¥é¿å…è¿™æ ·åšã€‚å¦‚æœä½ éœ€è¦åœ¨æµè§ˆå™¨ä¸­å°†æŸä¸ªç»„ä»¶æ¸²æŸ“ä¸º HTMLï¼Œè¯·ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/client/createRoot\",\"children\":[\"$r\",\"code\",null,{\"children\":\"createRoot\"}]}],\" å¹¶ä» DOM ä¸­è¯»å– HTMLã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createRoot } from 'react-dom/client';\\nimport { flushSync } from 'react-dom';\\n\\nconst div = document.createElement('div');\\nconst root = createRoot(div);\\nflushSync(() => {\\n  root.render(<MyIcon />);\\n});\\nconsole.log(div.innerHTML); // ä¾‹å¦‚ï¼Œ\\\"<svg>...</svg>\\\"\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/flushSync\",\"children\":[\"$r\",\"code\",null,{\"children\":\"flushSync\"}]}],\" è°ƒç”¨æ˜¯å¿…è¦çš„ï¼Œä»¥ä¾¿åœ¨è¯»å– \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/innerHTML\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"innerHTML\"}]}],\" å±æ€§ä¹‹å‰æ›´æ–° DOMã€‚\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"troubleshooting\",\"children\":\"æ•…éšœæ’é™¤ \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"when-a-component-suspends-the-html-always-contains-a-fallback\",\"children\":\"å½“ç»„ä»¶æš‚åœæ—¶ï¼ŒHTML ä¸­å§‹ç»ˆåŒ…å«ä¸€ä¸ªåå¤‡æ–¹æ¡ˆ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ä¸å®Œå…¨æ”¯æŒ Suspenseã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœæŸä¸ªç»„ä»¶ suspendï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºå®ƒä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/lazy\",\"children\":[\"$r\",\"code\",null,{\"children\":\"lazy\"}]}],\" å®šä¹‰æˆ–è·å–æ•°æ®ï¼‰ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" ä¸ä¼šç­‰å¾…å…¶å†…å®¹è§£æå®Œæˆã€‚ç›¸åï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"renderToString\"}],\" å°†æ‰¾åˆ°æœ€è¿‘çš„ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/Suspense\",\"children\":[\"$r\",\"code\",null,{\"children\":\"<Suspense>\"}]}],\" è¾¹ç•Œï¼Œå¹¶åœ¨ HTML ä¸­æ¸²æŸ“å…¶ \",[\"$r\",\"code\",null,{\"children\":\"fallback\"}],\" å±æ€§ã€‚ç›´åˆ°å®¢æˆ·ç«¯ä»£ç åŠ è½½åï¼Œå†…å®¹æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·ä½¿ç”¨å…¶ä¸­ä¸€ä¸ª \",[\"$r\",\"a\",null,{\"href\":\"#migrating-from-rendertostring-to-a-streaming-method-on-the-server\",\"children\":\"æ¨èçš„æµå¼è§£å†³æ–¹æ¡ˆ\"}],\"ã€‚å®ƒä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šé€æ­¥ä»¥å—çš„å½¢å¼æµå¼ä¼ è¾“å†…å®¹ï¼Œä½¿ç”¨æˆ·åœ¨å®¢æˆ·ç«¯ä»£ç åŠ è½½ä¹‹å‰é€æ­¥çœ‹åˆ°é¡µé¢å¡«å……ã€‚\"]}]]}]]","meta":{"title":"renderToString"}},"__N_SSG":true}