{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"概览\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"参考 \"},{\"url\":\"#prefetchdns\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS(href)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"用法 \"},{\"url\":\"#prefetching-dns-when-rendering\",\"depth\":3,\"text\":\"渲染时预获取 DNS \"},{\"url\":\"#prefetching-dns-in-an-event-handler\",\"depth\":3,\"text\":\"在事件处理程序中预获取 DNS \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"Canary\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 函数当前仅在 React Canary 与 experimental 渠道中可用，请在 \",[\"$r\",\"a\",null,{\"href\":\"/community/versioning-policy#all-release-channels\",\"children\":\"此处了解更多关于 React 发布渠道的信息\"}],\"。\"]}]}],\"\\n\",[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 允许提前查找期望从中加载资源的服务器的 IP。\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"prefetchDNS(\\\"https://example.com\\\");\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"参考 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"prefetchdns\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS(href)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"调用 \",[\"$r\",\"code\",null,{\"children\":\"react-dom\"}],\" 中的 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 函数以查找主机。\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { prefetchDNS } from 'react-dom';\\n\\nfunction AppRoot() {\\n  prefetchDNS(\\\"https://example.com\\\");\\n  // ……\\n}\\n\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"参见下方更多示例。\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 函数向浏览器提供一个提示，告诉它应该查找给定服务器的 IP 地址。如果浏览器选择这样做，则可以加快从该服务器加载资源的速度。\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"参数 \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"href\"}],\"：字符串，表示希望连接到的服务器 URL。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"返回值 \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 不返回任何值。\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"注意 \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"对同一服务器进行多次调用 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 具有与单次调用相同的效果。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"在浏览器中，可以在任何情况下调用 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\"：例如渲染组件时、Effect 中以及事件处理程序中等等。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"在服务器端渲染或渲染服务器组件时，只有在渲染组件或在从渲染组件中发起的异步上下文中调用 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 时才会生效。任何其他调用都将被忽略。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"如果知道即将需要的具体资源，可以调用 \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/#resource-preloading-apis\",\"children\":\"其他函数\"}],\"，这些函数将立即开始加载资源。\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"对于托管网页本身的相同服务器，预获取其 IP 地址没有好处，因为在给出提示时它已经被查找过了。\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"与 \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preconnect\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preconnect\"}]}],\" 相比，如果正在尝试与大量域名进行推测性连接，\",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\" 可能更有效，因为预连接的开销可能会超过其带来的好处。\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"用法 \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"prefetching-dns-when-rendering\",\"children\":\"渲染时预获取 DNS \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果知道组件的子元素将从该主机加载外部资源，请在渲染组件时调用 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\"。\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { prefetchDNS } from 'react-dom';\\n\\nfunction AppRoot() {\\n  prefetchDNS(\\\"https://example.com\\\");\\n  return ...;\\n}\\n\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"prefetching-dns-in-an-event-handler\",\"children\":\"在事件处理程序中预获取 DNS \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"在转换到需要外部资源的页面或状态之前，于事件处理程序中调用 \",[\"$r\",\"code\",null,{\"children\":\"prefetchDNS\"}],\"。这会比在渲染新页面或状态时调用它更早地启动该过程。\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { prefetchDNS } from 'react-dom';\\n\\nfunction CallToAction() {\\n  const onClick = () => {\\n    prefetchDNS('http://example.com');\\n    startWizard();\\n  }\\n  return (\\n    <button onClick={onClick}>Start Wizard</button>\\n  );\\n}\\n\"}]}]]}]]","meta":{"title":"prefetchDNS","canary":true}},"__N_SSG":true}